id: d6_node_paragraph_files
label: 'D6 node files to D8 file paragraph'
third_party_settings:
  migrate_plus:
    migration_group: documents

source:
  plugin: cbc_d6_upload
  key: drupal6
  high_water_property:
    name: changed

process:
  type:
    plugin: default_value
    default_value: download_callout
  field_file_upload:
    plugin: iterator
    source: upload
    process:
      target_id:
        plugin: migration
        migration: d6_files_files
        source: fid
      display: list
      description: description
  # @todo: field_description_plain? field_heading_plain?
destination:
  plugin: 'entity:paragraph'
migration_dependencies:
  required:
    - d6_files_files